{"ast":null,"code":"import _slicedToArray from\"C:/Users/505DY/Desktop/cloud/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../styles/Login.css\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ClientLogin(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),usernameSignIn=_useState2[0],setUsernameSignIn=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),passwordSignIn=_useState4[0],setPasswordSignIn=_useState4[1];var handleLogin=function handleLogin(ev){console.log(usernameSignIn,passwordSignIn);ev.preventDefault();fetch('http://localhost:8080/login',{'method':'POST','body':JSON.stringify({'username':usernameSignIn,'password':passwordSignIn}),'headers':{'Content-Type':'application/json'// 'Content-Type': 'application/x-www-form-urlencoded',\n}}).then(function(data){return data.json();}).then(function(json){console.log(json);if(json.status==='success'){navigate('/upload');}else{alert(\"Please make sure you've signed up already!\");}});};var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),usernameSignUp=_useState6[0],setUsernameSignUp=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),passwordSignUp=_useState8[0],setPasswordSignUp=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),nameSignUp=_useState10[0],setNameSignUp=_useState10[1];var backToLogIn=useEffect(function(){var signUpButton=document.getElementById('sign-up-button');var container=document.getElementById('container');signUpButton.addEventListener('click',function(){container.classList.remove(\"right-panel-active\");});});var handleRegister=function handleRegister(ev){if(usernameSignUp!=null&&passwordSignUp!=null&&nameSignUp!=null){ev.preventDefault();fetch('http://localhost:8080/register',{'method':'POST','body':JSON.stringify({'name':nameSignUp,'username':usernameSignUp,'password':passwordSignUp}),'headers':{'Content-Type':'application/json'// 'Content-Type': 'application/x-www-form-urlencoded',\n}}).then(function(data){data.json();}).then(function(json){console.log(json);setNameSignUp('');setUsernameSignUp('');setPasswordSignUp('');alert('Sign up successfully!');backToLogIn();});}};useEffect(function(){var toSignUpButton=document.getElementById('signUp');var backButton=document.getElementById('back');var container=document.getElementById('container');toSignUpButton.addEventListener('click',function(){container.classList.add(\"right-panel-active\");});backButton.addEventListener('click',function(){container.classList.remove(\"right-panel-active\");});});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container sign-up-container\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"#\",id:\"sign-up-form\",onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(event){setNameSignUp(event.target.value);},value:nameSignUp,placeholder:\"Username\",id:\"sign-up-name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:function onChange(event){setUsernameSignUp(event.target.value);},value:usernameSignUp,placeholder:\"Email\",id:\"sign-up-email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(event){setPasswordSignUp(event.target.value);},value:passwordSignUp,placeholder:\"Password\",id:\"sign-up-password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sign-up-button\",id:\"sign-up-button\",children:\"Sign Up\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-container sign-in-container\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"sign-in-form\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign in\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(event){setUsernameSignIn(event.target.value);},placeholder:\"Username\",id:\"sign-in-email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(event){setPasswordSignIn(event.target.value);},placeholder:\"Password\",id:\"sign-in-password\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Forgot your password?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sign-in-button\",children:\"Sign In\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"overlay\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overlay-panel overlay-left\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"I've got an acoount already!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"To keep connected with us please login with your personal info\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ghost\",id:\"back\",children:\"back\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"overlay-panel overlay-right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Don't have account?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Let's sign up to be a part of us for FREE!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ghost\",id:\"signUp\",children:\"Sign Up\"})]})]})})]});}","map":{"version":3,"names":["useState","useEffect","useNavigate","ClientLogin","navigate","usernameSignIn","setUsernameSignIn","passwordSignIn","setPasswordSignIn","handleLogin","ev","console","log","preventDefault","fetch","JSON","stringify","then","data","json","status","alert","usernameSignUp","setUsernameSignUp","passwordSignUp","setPasswordSignUp","nameSignUp","setNameSignUp","backToLogIn","signUpButton","document","getElementById","container","addEventListener","classList","remove","handleRegister","toSignUpButton","backButton","add","event","target","value"],"sources":["C:/Users/505DY/Desktop/cloud/my-app/src/components/Login.js"],"sourcesContent":["import \"../styles/Login.css\"\r\nimport { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function ClientLogin(){\r\n\r\n    const navigate = useNavigate() \r\n\r\n    const [usernameSignIn,setUsernameSignIn] = useState('')\r\n    const [passwordSignIn,setPasswordSignIn] = useState('')\r\n    const handleLogin = (ev) => {\r\n        console.log(usernameSignIn, passwordSignIn)\r\n        ev.preventDefault();\r\n        fetch('http://localhost:8080/login', {\r\n                'method':'POST',\r\n                'body': JSON.stringify(\r\n                    {\r\n                        'username': usernameSignIn,\r\n                        'password': passwordSignIn\r\n                }),\r\n                'headers': {\r\n                    'Content-Type': 'application/json'\r\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                  }\r\n            }).then((data)=>data.json()).then((json)=>{\r\n                console.log(json)\r\n                if (json.status==='success'){\r\n                    navigate('/upload');\r\n                }else{\r\n                    alert(\"Please make sure you've signed up already!\")\r\n                } \r\n            })\r\n    }\r\n\r\n    const [usernameSignUp,setUsernameSignUp] = useState('');\r\n    const [passwordSignUp,setPasswordSignUp] = useState('');\r\n    const [nameSignUp,setNameSignUp] = useState('');\r\n    const backToLogIn = useEffect(()=>{\r\n        const signUpButton = document.getElementById('sign-up-button');\r\n        const container = document.getElementById('container');\r\n\r\n        signUpButton.addEventListener('click', () => {\r\n            container.classList.remove(\"right-panel-active\");\r\n        });\r\n    })\r\n\r\n    const  handleRegister =  (ev) => {\r\n        if(usernameSignUp != null && passwordSignUp != null && nameSignUp != null){\r\n            ev.preventDefault();\r\n            fetch('http://localhost:8080/register', {\r\n                'method':'POST',\r\n                'body': JSON.stringify(\r\n                    {\r\n                        'name': nameSignUp,\r\n                        'username': usernameSignUp,\r\n                        'password': passwordSignUp\r\n                }),\r\n                'headers': {\r\n                    'Content-Type': 'application/json'\r\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                  }\r\n            })\r\n            .then((data)=>{\r\n                data.json()\r\n            })\r\n            .then((json)=>{\r\n                console.log(json);\r\n                setNameSignUp('');\r\n                setUsernameSignUp('');\r\n                setPasswordSignUp('');\r\n                alert('Sign up successfully!');\r\n                backToLogIn();\r\n            })\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        const toSignUpButton = document.getElementById('signUp');\r\n        const backButton = document.getElementById('back');\r\n        const container = document.getElementById('container');\r\n        \r\n\r\n        toSignUpButton.addEventListener('click', () => {\r\n            container.classList.add(\"right-panel-active\");\r\n        });\r\n        \r\n        backButton.addEventListener('click', () => {\r\n            container.classList.remove(\"right-panel-active\");\r\n        });\r\n        \r\n    })\r\n    \r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container\" id=\"container\">\r\n            <div className=\"form-container sign-up-container\">\r\n                <form action=\"#\" id='sign-up-form' onSubmit={handleRegister}>\r\n                    <h1>Create Account</h1>\r\n                    <input type=\"text\" onChange={(event)=>{setNameSignUp(event.target.value);}} value={nameSignUp} placeholder=\"Username\" id='sign-up-name'/>\r\n                    <input type=\"email\" onChange={(event)=>{setUsernameSignUp(event.target.value);}} value={usernameSignUp} placeholder=\"Email\" id='sign-up-email'/>\r\n                    <input type=\"password\" onChange={(event)=>{setPasswordSignUp(event.target.value);}} value={passwordSignUp} placeholder=\"Password\" id='sign-up-password'/>\r\n                    <button className='sign-up-button' id='sign-up-button'>Sign Up</button>\r\n                </form>\r\n            </div>\r\n            <div className=\"form-container sign-in-container\">\r\n                <form  id='sign-in-form' onSubmit={handleLogin}>\r\n                    <h1>Sign in</h1>\r\n                    <input type=\"text\" onChange={(event)=>{setUsernameSignIn(event.target.value);}} placeholder=\"Username\" id='sign-in-email' />\r\n                    <input type=\"password\" onChange={(event)=>{setPasswordSignIn(event.target.value)}} placeholder=\"Password\" id='sign-in-password' />\r\n                    <a href=\"#\">Forgot your password?</a>\r\n                    <button className='sign-in-button'>Sign In</button>\r\n                </form>\r\n            </div>\r\n            <div className=\"overlay-container\">\r\n                <div className=\"overlay\">\r\n                    <div className=\"overlay-panel overlay-left\">\r\n                        <h1>I've got an acoount already!</h1>\r\n                        <p>To keep connected with us please login with your personal info</p>\r\n                        <button className=\"ghost\" id=\"back\">back</button>\r\n                    </div>\r\n                    <div className=\"overlay-panel overlay-right\">\r\n                        <h1>Don't have account?</h1>\r\n                        <p>Let's sign up to be a part of us for FREE!</p>\r\n                        <button className=\"ghost\" id=\"signUp\">Sign Up</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}